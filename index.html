<!DOCTYPE html>
<html>
<head>
	<title>just a grid</title>
	<link rel="stylesheet"
		  type="text/css"
		  href="grid.css">
	<link rel="stylesheet"
		  type="text/css"
		  href="theme.css">
	<link rel="stylesheet"
		  type="text/css"
		  href="media-query-examples.css">
</head>
<body>

<header>
	<div class="row">
		<section><h1>Just a Grid</h1></section>
	</div>
</header>

<main>
	<div class="row">
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
		<section class="s1"><p>1</p></section>
	</div>
	<div class="row">
		<section class="s2"><p>2</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s2"><p>2</p></section>
	</div>
	<div class="row">
		<section class="s3"><p>3</p></section>
		<section class="s3"><p>3</p></section>
		<section class="s3"><p>3</p></section>
		<section class="s3"><p>3</p></section>
	</div>
	<div class="row">
		<section class="s4"><p>4</p></section>
		<section class="s4"><p>4</p></section>
		<section class="s4"><p>4</p></section>
	</div>
	<div class="row">
		<section class="s5"><p>5</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s5"><p>5</p></section>
	</div>
	<div class="row">
		<section class="s6"><p>6</p></section>
		<section class="s6"><p>6</p></section>
	</div>
	<div class="row">
		<section class="s7"><p>7</p></section>
		<section class="s5"><p>5</p></section>
	</div>
	<div class="row">
		<section class="s2"><p>2</p></section>
		<section class="s8"><p>8</p></section>
		<section class="s2"><p>2</p></section>
	</div>
	<div class="row">
		<section class="s9"><p>9</p></section>
		<section class="s3"><p>3</p></section>
	</div>
	<div class="row">
		<section class="s1"><p>1</p></section>
		<section class="s10"><p>10</p></section>
		<section class="s1"><p>1</p></section>
	</div>
	<div class="row">
		<section class="s1"><p>1</p></section>
		<section class="s11"><p>11</p></section>
	</div>
</main>

<footer>
	<div class="row">
		<section class="s1"><p>1</p></section>
		<section class="s2"><p>2</p></section>
		<section class="s9"><p>9</p></section>
	</div>
	<div class="row">
		<section class="full">
			<h2>Fullscreen Element</h2>
			<p>This will match the view height of the browser or the size of the content (whichever is larger)</p>
		</section>
	</div>
	<div class="row">
		<section class="s4">
			<h2>Row equaliser</h2>
			<p>Turn on the row equaliser and the sections should share the same height (uses JS)</p>
		</section>
		<section class="s4">
			<h2>Row equaliser</h2>
			<p>No content here</p>
		</section>
		<section class="s4">
			<h2>Row equaliser</h2>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
			consequat.</p><p>Duis aute irure dolor in reprehenderit in voluptate velit esse
			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
		</section>
	</div>
</footer>

<div class="overlay row">
	<section class="s3">
		<h3>Spacing</h3>
		<p><input id="spacing" type="range" min="0" max="100" step="1" value="0"></p>
	</section>
	<section class="s3">
		<h3>Max width</h3>
		<p><input id="maxwidth" type="range" min="640" max="1600" step="1" value="1200"></p>
	</section>
	<section class="s3">
		<h3>Outlines</h3>
		<p><input type="checkbox" id="outlines" onclick="check()" checked></p>
	</section>
	<section class="s3">
		<h3>Equaliser</h3>
		<p><input type="checkbox" id="equaliser" onclick="toggle_equaliser()" checked></p>
	</section>
</div>

<script>
// a little controller for the variables
// for demonstration purposes!

var section = document.querySelectorAll('section')
var spacing = document.getElementById('spacing')
var maxwidth = document.getElementById('maxwidth')
var outlines = document.getElementById('outlines')
var equaliser = document.getElementById('equaliser')

spacing.addEventListener('input', function()
{
	for(var i=0; i<section.length; i++){
		section[i].style.fontSize = spacing.value+'px'
	}
	console.log('spacing changed to: ', spacing.value+'px')
	resize_content()
})
maxwidth.addEventListener('input', function()
{
	document.body.style.maxWidth = maxwidth.value+'px'
	document.getElementsByClassName('overlay')[0].style.maxWidth = maxwidth.value+'px'
	console.log('body max-width changed to: ', maxwidth.value+'px')
	resize_content()
})
function check()
{
	for(var i=0; i<section.length; i++){
		if(outlines.checked){
			section[i].style.outlineWidth = 1+'px'
			console.log('outlines on')
		}else{
			section[i].style.outlineWidth = 0
			console.log('outlines off')
		}
	}
	
}

// this will just handle the checkbox update
var equaliser_enabled = true

function toggle_equaliser(){
	if(equaliser.checked){
		equaliser_enabled = true
		resize_content()
	}else{
		equaliser_enabled = false
		resize_content()
	}
}

// optional module for equalising row height
function resize_content(){
	var rows = document.getElementsByClassName('row')
	var height = 0
	if(equaliser_enabled){
		for(var i=0; i<rows.length; i++){
			row_sections = rows[i].querySelectorAll('section')
			height = 0
			var elems = []
			for(z=0;z<row_sections.length;z++){
				row_sections[z].style.height = 'auto'
				elems.push(row_sections[z])
				if(row_sections[z].offsetHeight>height) height = row_sections[z].offsetHeight
			}
			for(z=0;z<elems.length;z++){
				elems[z].style.height = height+'px'
			}
		}
	} else {
		for(var i=0; i<section.length; i++){
			section[i].style.height = 'auto'
		}
	}
}

// handle events easily
var addEvent = function(elem,type,eventHandle){
	if(elem == null || typeof(elem) == 'undefined') return
	if( elem.addEventListener ){
		elem.addEventListener( type, eventHandle, false )
	}else if( elem.attachEvent ){
		elem.attachEvent( "on" + type, eventHandle )
	}else{
		elem["on"+type]=eventHandle
	}
}

// do not spam functions on resize event
function wait_resize(){
	clearTimeout(this.id)
	this.id = setTimeout(resize_content, 30)
}

addEvent(document, "DOMContentLoaded", resize_content)
addEvent(window, "resize", wait_resize)

</script>

</body>
</html>